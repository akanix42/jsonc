{"version":3,"sources":["jsonc.es6"],"names":[],"mappings":"AAAA;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqB,K;WAAA,K;0BAAA,K;;SACnB,Q,GAAW,E;;;eADQ,K;;6BAGV,I,EAAM,Q,EAAU,O,EAAS;AAChC,iBAAW,YAAY,KAAK,QAA5B;AACA,UAAI,CAAC,QAAL,EAAe;AACb,gBAAQ,KAAR,CAAc,gDAAd;AACA;AACD;;AAED,UAAI,KAAK,WAAL,CAAiB,QAAjB,CAAJ,EAAgC;AAC9B,gBAAQ,KAAR,8BAAyC,QAAzC,kCAA8E,KAAK,QAAL,CAAc,QAAd,EAAwB,IAAxB,CAA6B,QAA7B,EAA9E,QAA0H,IAA1H;AACA;AACD;;AAED,WAAK,QAAL,CAAc,QAAd,IAA0B,EAAE,UAAF,EAAQ,gBAAR,EAA1B;AACA,WAAK,QAAL,GAAgB,QAAhB;AACD;;;4BAEO,I,EAAM;AACZ,aAAO,cAAc,IAAd,IAAsB,KAAK,QAAL,KAAkB,SAAxC,IAAqD,KAAK,WAAL,CAAiB,KAAK,QAAtB,CAA5D;AACD;;;gCAEW,Q,EAAU;AACpB,aAAO,YAAY,KAAK,QAAxB;AACD;;;8BAES,I,EAAM;AACd,aAAO,eAAM,SAAN,CAAgB,KAAK,SAAL,CAAe,IAAf,CAAhB,CAAP;AACD;;;0BAEK,I,EAAM;AACV,aAAO,KAAK,WAAL,CAAiB,eAAM,KAAN,CAAY,IAAZ,CAAjB,CAAP;AACD;;;8BAES,I,EAAM;AACd,aAAO,yBAAe,IAAf,EAAqB,SAArB,CAA+B,IAA/B,CAAP;AACD;;;gCAEW,I,EAAM;AAChB,aAAO,2BAAiB,IAAjB,EAAuB,WAAvB,CAAmC,IAAnC,CAAP;AACD;;;SAzCkB,K;;;kBAAA,K","file":"jsonc.js","sourcesContent":["\"use strict\";\r\nimport json5 from 'json5';\r\nimport Serializer from './serializer';\r\nimport Deserializer from './deserializer';\r\n\r\nexport default class Jsonc {\r\n  registry = {};\r\n\r\n  register(type, typeName, options) {\r\n    typeName = typeName || type.__type__;\r\n    if (!typeName) {\r\n      console.error(\"Error registering type: no typename specified!\");\r\n      return;\r\n    }\r\n\r\n    if (this.hasTypeName(typeName)) {\r\n      console.error(`Error registering type: ${typeName} is already registered by ${this.registry[typeName].type.toString()}!`, type);\r\n      return;\r\n    }\r\n\r\n    this.registry[typeName] = { type, options };\r\n    type.__type__ = typeName;\r\n  }\r\n\r\n  hasType(type) {\r\n    return '__type__' in type && type.__type__ !== undefined && this.hasTypeName(type.__type__);\r\n  }\r\n\r\n  hasTypeName(typeName) {\r\n    return typeName in this.registry;\r\n  }\r\n\r\n  stringify(data) {\r\n    return json5.stringify(this.serialize(data));\r\n  }\r\n\r\n  parse(json) {\r\n    return this.deserialize(json5.parse(json));\r\n  }\r\n\r\n  serialize(data) {\r\n    return new Serializer(this).serialize(data);\r\n  }\r\n\r\n  deserialize(data) {\r\n    return new Deserializer(this).deserialize(data);\r\n  }\r\n}"]}