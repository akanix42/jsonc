{"version":3,"sources":["jsonc.es6"],"names":[],"mappings":"AAAA;;;;;;;;AACA;;;;AACA;;AACA;;;;;;IAEqB;;;;SACnB,WAAW;;;eADQ;;6BAGV,MAAM;AACb,UAAI,CAAC,KAAK,QAAL,EAAe;AAClB,gBAAQ,KAAR,CAAc,gDAAd,EADkB;AAElB,eAFkB;OAApB;;AAKA,UAAI,KAAK,OAAL,CAAa,KAAK,QAAL,CAAjB,EAAiC;AAC/B,gBAAQ,KAAR,8BAAyC,0CAAqC,KAAK,QAAL,CAAc,KAAK,QAAL,CAAd,CAA6B,QAA7B,QAA9E,EAA0H,IAA1H,EAD+B;AAE/B,eAF+B;OAAjC;;AAKA,WAAK,QAAL,CAAc,KAAK,QAAL,CAAd,GAA+B,IAA/B,CAXa;;;;4BAcP,MAAM;AACZ,aAAO,cAAc,IAAd,IAAsB,KAAK,QAAL,KAAkB,SAAlB,IAA+B,KAAK,WAAL,CAAiB,KAAK,QAAL,CAAtE,CADK;;;;gCAIF,UAAU;AACpB,aAAO,YAAY,KAAK,QAAL,CADC;;;;8BAIZ,MAAM;AACd,aAAO,eAAM,SAAN,CAAgB,KAAK,MAAL,CAAY,IAAZ,CAAhB,CAAP,CADc;;;;0BAIV,MAAM;AACV,aAAO,KAAK,MAAL,CAAY,eAAM,KAAN,CAAY,IAAZ,CAAZ,CAAP,CADU;;;;8BAIF,MAAM;AACd,aAAO,6BAAiB,SAAjB,CAA2B,IAA3B,CAAP,CADc;;;;gCAIJ,MAAM;AAChB,aAAO,iCAAmB,WAAnB,CAA+B,IAA/B,CAAP,CADgB;;;;SArCC","file":"jsonc.js","sourcesContent":["\"use strict\";\r\nimport json5 from 'json5';\r\nimport { Serializer } from './serializer';\r\nimport { Deserializer } from './deserializer';\r\n\r\nexport default class Jsonc {\r\n  registry = {};\r\n\r\n  register(type) {\r\n    if (!type.__type__) {\r\n      console.error(\"Error registering type: no typename specified!\");\r\n      return;\r\n    }\r\n\r\n    if (this.hasType(type.__type__)) {\r\n      console.error(`Error registering type: ${typeName} is already registered by ${this.registry[type.typeName].toString()}!`, type);\r\n      return;\r\n    }\r\n\r\n    this.registry[type.__type__] = type;\r\n  }\r\n\r\n  hasType(type) {\r\n    return '__type__' in type && type.__type__ !== undefined && this.hasTypeName(type.__type__);\r\n  }\r\n\r\n  hasTypeName(typeName) {\r\n    return typeName in this.registry;\r\n  }\r\n\r\n  stringify(data) {\r\n    return json5.stringify(this.encode(data));\r\n  }\r\n\r\n  parse(json) {\r\n    return this.decode(json5.parse(json));\r\n  }\r\n\r\n  serialize(data) {\r\n    return new Serializer().serialize(data);\r\n  }\r\n\r\n  deserialize(data) {\r\n    return new Deserializer().deserialize(data);\r\n  }\r\n}"]}